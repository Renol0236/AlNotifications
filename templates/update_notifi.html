{% extends 'base.html' %}

{% block head %}
    {% load static %}
    <script src={% static 'js/delete_notifi.js' %}></script>
    <script src={% static 'js/update_notifi.js' %}></script>
{% endblock %}

{% block content %}
    <h2>Update Notification</h2>

    {% if notification %}
            <form>
                {% csrf_token %}
                <div class="form-group">
                    <label for="title">Title:</label>
                    <input type="text" class="form-control" id="title" name="title" value="{{ notification.title }}" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea class="form-control" id="message" name="message" required>{{ notification.message }}</textarea>
                </div>
                <div class="form-group">
                    <label for="time">Time:</label>
                    <input type="datetime-local" class="form-control" id="time" name="time" value="{{ notification.time|date:'Y-m-d\TH:i' }}" required>
                </div>
                <h1>{{ notification.id }}</h1>
                <button type="submit" class="btn btn-primary" id="update_notification" data-id="{{ notification.id }}">Update Notification</button>
            </form>
            {% csrf_token %}
            <a href="{% url 'delete_notification' id=notification.id %}" class="delete-notification-link" data-id="{{ notification.id }}">Delete Notification</a>
    {% else %}
        <p>No notifications available.</p>
        <a class="btn btn-primary" href="{% url 'create_notification' %}">Add Notification</a>

    {% endif %}

<div class="modal fade" id="confirmation-modal" tabindex="-1" role="dialog" aria-labelledby="confirmationModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmationModalLabel">Delete confirmation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        <div class="modal-body">
            <p>Do you sure, that you want delete this notification?</p>
        </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Exit</button>
                <button type="button" class="btn btn-primary" id="confirm-delete">Yes</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
